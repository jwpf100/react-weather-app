// Test Data
const weatherIconLink = 'https://www.weatherbit.io/static/img/icons/'

// API Key for testing
const APIKey = 'e90f26a7c3564efc8ea5787ca7a6b982'
// API Key
// const APIKey = '0777401f3864415cae72a3cee34da032'

// Current Forecast
const fetchDummyCurrentWeatherData = () => {
  const forecastData = {
    data: [
      {
        rh: 93,
        pod: 'n',
        lon: -43.2075,
        pres: 1016.3,
        timezone: 'America/Sao_Paulo',
        ob_time: '2021-05-04 07:11',
        country_code: 'BR',
        clouds: 6,
        ts: 1620112272,
        solar_rad: 0,
        state_code: '21',
        city_name: 'Rio de Janeiro',
        wind_spd: 1,
        wind_cdir_full: 'north',
        wind_cdir: 'N',
        slp: 1017,
        vis: 5,
        h_angle: -90,
        sunset: '20:25',
        dni: 0,
        dewpt: 18.8,
        snow: 0,
        uv: 0,
        precip: 0,
        wind_dir: 360,
        sunrise: '09:13',
        ghi: 0,
        dhi: 0,
        aqi: 89,
        lat: -22.90278,
        weather: {
          icon: 'c01n',
          code: 800,
          description: 'Clear sky',
        },
        datetime: '2021-05-04:07',
        temp: 20,
        station: 'SBGL',
        elev_angle: -30.98,
        app_temp: 20.5,
      },
    ],
    count: 1,
  }
  return forecastData
}

// Current Forecast
const fetchDummyForecastWeatherData = () => {
  const forecastData = {
    data: [
      {
        moonrise_ts: 1620183135,
        wind_cdir: 'WSW',
        rh: 75,
        pres: 1012.46,
        high_temp: 28.6,
        sunset_ts: 1620159748,
        ozone: 259.323,
        moon_phase: 0.310943,
        wind_gust_spd: 4.20703,
        snow_depth: 0,
        clouds: 0,
        ts: 1620097260,
        sunrise_ts: 1620119412,
        app_min_temp: 18,
        wind_spd: 1.22604,
        pop: 0,
        wind_cdir_full: 'west-southwest',
        slp: 1017.23,
        moon_phase_lunation: 0.77,
        valid_date: '2021-05-04',
        app_max_temp: 29,
        vis: 24.128,
        dewpt: 17.3,
        snow: 0,
        uv: 6.62771,
        weather: {
          icon: 'c01d',
          code: 800,
          description: 'Clear Sky',
        },
        wind_dir: 251,
        max_dhi: null,
        clouds_hi: 0,
        precip: 0,
        low_temp: 18.5,
        max_temp: 28.8,
        moonset_ts: 1620147815,
        datetime: '2021-05-04',
        temp: 22.4,
        min_temp: 17.9,
        clouds_mid: 0,
        clouds_low: 0,
      },
      {
        moonrise_ts: 1620186567,
        wind_cdir: 'WSW',
        rh: 69,
        pres: 1011.35,
        high_temp: 30.3,
        sunset_ts: 1620246114,
        ozone: 254.49,
        moon_phase: 0.221032,
        wind_gust_spd: 3.60547,
        snow_depth: 0,
        clouds: 8,
        ts: 1620183660,
        sunrise_ts: 1620205837,
        app_min_temp: 18.5,
        wind_spd: 1.23653,
        pop: 0,
        wind_cdir_full: 'west-southwest',
        slp: 1016.19,
        moon_phase_lunation: 0.8,
        valid_date: '2021-05-05',
        app_max_temp: 30.2,
        vis: 24.128,
        dewpt: 16.7,
        snow: 0,
        uv: 6.57985,
        weather: {
          icon: 'c02d',
          code: 801,
          description: 'Few clouds',
        },
        wind_dir: 255,
        max_dhi: null,
        clouds_hi: 8,
        precip: 0,
        low_temp: 18.8,
        max_temp: 30.5,
        moonset_ts: 1620236317,
        datetime: '2021-05-05',
        temp: 23.2,
        min_temp: 18.5,
        clouds_mid: 0,
        clouds_low: 0,
      },
      {
        moonrise_ts: 1620276223,
        wind_cdir: 'WSW',
        rh: 72,
        pres: 1010.71,
        high_temp: 31.2,
        sunset_ts: 1620332481,
        ozone: 253.193,
        moon_phase: 0.144071,
        wind_gust_spd: 6.12109,
        snow_depth: 0,
        clouds: 1,
        ts: 1620270060,
        sunrise_ts: 1620292263,
        app_min_temp: 19.1,
        wind_spd: 1.24607,
        pop: 0,
        wind_cdir_full: 'west-southwest',
        slp: 1015.52,
        moon_phase_lunation: 0.84,
        valid_date: '2021-05-06',
        app_max_temp: 30.9,
        vis: 24.128,
        dewpt: 17.3,
        snow: 0,
        uv: 6.52618,
        weather: {
          icon: 'c02d',
          code: 801,
          description: 'Few clouds',
        },
        wind_dir: 258,
        max_dhi: null,
        clouds_hi: 1,
        precip: 0,
        low_temp: 19.5,
        max_temp: 31.2,
        moonset_ts: 1620324679,
        datetime: '2021-05-06',
        temp: 23.4,
        min_temp: 18.6,
        clouds_mid: 0,
        clouds_low: 0,
      },
      {
        moonrise_ts: 1620365734,
        wind_cdir: 'SW',
        rh: 79,
        pres: 1013.46,
        high_temp: 28.5,
        sunset_ts: 1620418848,
        ozone: 254.875,
        moon_phase: 0.0820343,
        wind_gust_spd: 4.90234,
        snow_depth: 0,
        clouds: 32,
        ts: 1620356460,
        sunrise_ts: 1620378689,
        app_min_temp: 20,
        wind_spd: 1.82206,
        pop: 50,
        wind_cdir_full: 'southwest',
        slp: 1018.23,
        moon_phase_lunation: 0.87,
        valid_date: '2021-05-07',
        app_max_temp: 29.4,
        vis: 22.5443,
        dewpt: 18.8,
        snow: 0,
        uv: 5.13041,
        weather: {
          icon: 'c02d',
          code: 802,
          description: 'Scattered clouds',
        },
        wind_dir: 218,
        max_dhi: null,
        clouds_hi: 4,
        precip: 3.125,
        low_temp: 20.3,
        max_temp: 28.7,
        moonset_ts: 1620412977,
        datetime: '2021-05-07',
        temp: 22.8,
        min_temp: 19.5,
        clouds_mid: 2,
        clouds_low: 31,
      },
      {
        moonrise_ts: 1620455151,
        wind_cdir: 'ESE',
        rh: 91,
        pres: 1017.06,
        high_temp: 26,
        sunset_ts: 1620505217,
        ozone: 255.583,
        moon_phase: 0.0365832,
        wind_gust_spd: 4.40234,
        snow_depth: 0,
        clouds: 77,
        ts: 1620442860,
        sunrise_ts: 1620465115,
        app_min_temp: 20.9,
        wind_spd: 1.17965,
        pop: 80,
        wind_cdir_full: 'east-southeast',
        slp: 1021.92,
        moon_phase_lunation: 0.91,
        valid_date: '2021-05-08',
        app_max_temp: 24.2,
        vis: 14.6913,
        dewpt: 20,
        snow: 0,
        uv: 4.54378,
        weather: {
          icon: 'r02d',
          code: 501,
          description: 'Moderate rain',
        },
        wind_dir: 123,
        max_dhi: null,
        clouds_hi: 34,
        precip: 10.8125,
        low_temp: 19.9,
        max_temp: 24.1,
        moonset_ts: 1620501277,
        datetime: '2021-05-08',
        temp: 21.5,
        min_temp: 20.2,
        clouds_mid: 35,
        clouds_low: 53,
      },
      {
        moonrise_ts: 1620544526,
        wind_cdir: 'ESE',
        rh: 84,
        pres: 1017.56,
        high_temp: 27.4,
        sunset_ts: 1620591587,
        ozone: 258.469,
        moon_phase: 0.00903073,
        wind_gust_spd: 3.74414,
        snow_depth: 0,
        clouds: 36,
        ts: 1620529260,
        sunrise_ts: 1620551541,
        app_min_temp: 20.5,
        wind_spd: 1.64872,
        pop: 30,
        wind_cdir_full: 'east-southeast',
        slp: 1022.38,
        moon_phase_lunation: 0.94,
        valid_date: '2021-05-09',
        app_max_temp: 26.3,
        vis: 23.226,
        dewpt: 19,
        snow: 0,
        uv: 5.53705,
        weather: {
          icon: 'c02d',
          code: 802,
          description: 'Scattered clouds',
        },
        wind_dir: 112,
        max_dhi: null,
        clouds_hi: 14,
        precip: 1.3125,
        low_temp: 18.4,
        max_temp: 26.6,
        moonset_ts: 1620589641,
        datetime: '2021-05-09',
        temp: 22,
        min_temp: 19.6,
        clouds_mid: 0,
        clouds_low: 35,
      },
      {
        moonrise_ts: 1620633910,
        wind_cdir: 'ESE',
        rh: 79,
        pres: 1014.75,
        high_temp: 26.4,
        sunset_ts: 1620677958,
        ozone: 257.969,
        moon_phase: 0.000241004,
        wind_gust_spd: 3.63477,
        snow_depth: 0,
        clouds: 1,
        ts: 1620615660,
        sunrise_ts: 1620637968,
        app_min_temp: 18.8,
        wind_spd: 1.15572,
        pop: 20,
        wind_cdir_full: 'east-southeast',
        slp: 1019.5,
        moon_phase_lunation: 0.97,
        valid_date: '2021-05-10',
        app_max_temp: 28.2,
        vis: 24.128,
        dewpt: 18.1,
        snow: 0,
        uv: 6.28871,
        weather: {
          icon: 'c01d',
          code: 800,
          description: 'Clear Sky',
        },
        wind_dir: 112,
        max_dhi: null,
        clouds_hi: 0,
        precip: 0.125,
        low_temp: 18.8,
        max_temp: 28,
        moonset_ts: 1620678128,
        datetime: '2021-05-10',
        temp: 22.2,
        min_temp: 18.4,
        clouds_mid: 0,
        clouds_low: 1,
      },
      {
        moonrise_ts: 1620723340,
        wind_cdir: 'W',
        rh: 83,
        pres: 1014.81,
        high_temp: 26.5,
        sunset_ts: 1620764329,
        ozone: 259.938,
        moon_phase: 0.0105384,
        wind_gust_spd: 3.30078,
        snow_depth: 0,
        clouds: 23,
        ts: 1620702060,
        sunrise_ts: 1620724394,
        app_min_temp: 19.1,
        wind_spd: 1.54196,
        pop: 55,
        wind_cdir_full: 'west',
        slp: 1019.5,
        moon_phase_lunation: 0.01,
        valid_date: '2021-05-11',
        app_max_temp: 26.6,
        vis: 22.293,
        dewpt: 18.6,
        snow: 0,
        uv: 4.71144,
        weather: {
          icon: 'c02d',
          code: 802,
          description: 'Scattered clouds',
        },
        wind_dir: 266,
        max_dhi: null,
        clouds_hi: 13,
        precip: 3.5,
        low_temp: 18.3,
        max_temp: 26.8,
        moonset_ts: 1620766792,
        datetime: '2021-05-11',
        temp: 21.8,
        min_temp: 18.7,
        clouds_mid: 0,
        clouds_low: 12,
      },
      {
        moonrise_ts: 1620812839,
        wind_cdir: 'S',
        rh: 82,
        pres: 1015.06,
        high_temp: 28.4,
        sunset_ts: 1620850702,
        ozone: 262.344,
        moon_phase: 0.0396807,
        wind_gust_spd: 3.32227,
        snow_depth: 0,
        clouds: 62,
        ts: 1620788460,
        sunrise_ts: 1620810821,
        app_min_temp: 18.3,
        wind_spd: 1.33543,
        pop: 10,
        wind_cdir_full: 'south',
        slp: 1019.94,
        moon_phase_lunation: 0.04,
        valid_date: '2021-05-12',
        app_max_temp: 26.8,
        vis: 24.128,
        dewpt: 18.4,
        snow: 0,
        uv: 1.93714,
        weather: {
          icon: 'c03d',
          code: 803,
          description: 'Broken clouds',
        },
        wind_dir: 175,
        max_dhi: null,
        clouds_hi: 61,
        precip: 0.25,
        low_temp: 18.7,
        max_temp: 26.9,
        moonset_ts: 1620855679,
        datetime: '2021-05-12',
        temp: 21.8,
        min_temp: 18.1,
        clouds_mid: 0,
        clouds_low: 4,
      },
      {
        moonrise_ts: 1620902403,
        wind_cdir: 'SW',
        rh: 70,
        pres: 1013.75,
        high_temp: 31.1,
        sunset_ts: 1620937076,
        ozone: 262.708,
        moon_phase: 0.086904,
        wind_gust_spd: 2.40234,
        snow_depth: 0,
        clouds: 56,
        ts: 1620874860,
        sunrise_ts: 1620897247,
        app_min_temp: 18.9,
        wind_spd: 1.00641,
        pop: 0,
        wind_cdir_full: 'southwest',
        slp: 1018.33,
        moon_phase_lunation: 0.07,
        valid_date: '2021-05-13',
        app_max_temp: 28.9,
        vis: 24.128,
        dewpt: 17,
        snow: 0,
        uv: 5.90923,
        weather: {
          icon: 'c03d',
          code: 803,
          description: 'Broken clouds',
        },
        wind_dir: 219,
        max_dhi: null,
        clouds_hi: 56,
        precip: 0,
        low_temp: 18,
        max_temp: 28.9,
        moonset_ts: 1620944816,
        datetime: '2021-05-13',
        temp: 23.1,
        min_temp: 18.7,
        clouds_mid: 0,
        clouds_low: 0,
      },
      {
        moonrise_ts: 1620992001,
        wind_cdir: 'SSE',
        rh: 60,
        pres: 1007.75,
        high_temp: 24.7,
        sunset_ts: 1621023451,
        ozone: 259.75,
        moon_phase: 0.150995,
        wind_gust_spd: 7.00781,
        snow_depth: 0,
        clouds: 38,
        ts: 1620961260,
        sunrise_ts: 1620983674,
        app_min_temp: 19.7,
        wind_spd: 1.94113,
        pop: 0,
        wind_cdir_full: 'south-southeast',
        slp: 1012.5,
        moon_phase_lunation: 0.11,
        valid_date: '2021-05-14',
        app_max_temp: 30.9,
        vis: 24.128,
        dewpt: 15.8,
        snow: 0,
        uv: 2.66931,
        weather: {
          icon: 'c02d',
          code: 802,
          description: 'Scattered clouds',
        },
        wind_dir: 160,
        max_dhi: null,
        clouds_hi: 38,
        precip: 0,
        low_temp: 17.9,
        max_temp: 31.2,
        moonset_ts: 1621034200,
        datetime: '2021-05-14',
        temp: 25.3,
        min_temp: 19.5,
        clouds_mid: 0,
        clouds_low: 0,
      },
      {
        moonrise_ts: 1621081575,
        wind_cdir: 'W',
        rh: 88,
        pres: 1010.75,
        high_temp: 26,
        sunset_ts: 1621109827,
        ozone: 264.125,
        moon_phase: 0.230334,
        wind_gust_spd: 4.30469,
        snow_depth: 0,
        clouds: 100,
        ts: 1621047660,
        sunrise_ts: 1621070101,
        app_min_temp: 21.8,
        wind_spd: 1.79651,
        pop: 55,
        wind_cdir_full: 'west',
        slp: 1015.25,
        moon_phase_lunation: 0.14,
        valid_date: '2021-05-15',
        app_max_temp: 22,
        vis: 24.128,
        dewpt: 19.3,
        snow: 0,
        uv: 0.842885,
        weather: {
          icon: 'c04d',
          code: 804,
          description: 'Overcast clouds',
        },
        wind_dir: 264,
        max_dhi: null,
        clouds_hi: 100,
        precip: 3.5,
        low_temp: 18.5,
        max_temp: 23.4,
        moonset_ts: 1621123796,
        datetime: '2021-05-15',
        temp: 21.4,
        min_temp: 18.7,
        clouds_mid: 100,
        clouds_low: 48,
      },
      {
        moonrise_ts: 1621171052,
        wind_cdir: 'WSW',
        rh: 81,
        pres: 1015,
        high_temp: 27.9,
        sunset_ts: 1621196204,
        ozone: 267.375,
        moon_phase: 0.230334,
        wind_gust_spd: 3.61914,
        snow_depth: 0,
        clouds: 74,
        ts: 1621134060,
        sunrise_ts: 1621156528,
        app_min_temp: 19,
        wind_spd: 1.8048,
        pop: 50,
        wind_cdir_full: 'west-southwest',
        slp: 1019.75,
        moon_phase_lunation: 0.18,
        valid_date: '2021-05-16',
        app_max_temp: 22.5,
        vis: 23.144,
        dewpt: 17.1,
        snow: 0,
        uv: 1.29163,
        weather: {
          icon: 'c04d',
          code: 804,
          description: 'Overcast clouds',
        },
        wind_dir: 243,
        max_dhi: null,
        clouds_hi: 0,
        precip: 2.8125,
        low_temp: 18,
        max_temp: 24.3,
        moonset_ts: 1621210196,
        datetime: '2021-05-16',
        temp: 20.5,
        min_temp: 18,
        clouds_mid: 2,
        clouds_low: 74,
      },
      {
        moonrise_ts: 1621260373,
        wind_cdir: 'SW',
        rh: 70,
        pres: 1015.5,
        high_temp: 25.3,
        sunset_ts: 1621282583,
        ozone: 262,
        moon_phase: 0.322845,
        wind_gust_spd: 2.64062,
        snow_depth: 0,
        clouds: 25,
        ts: 1621220460,
        sunrise_ts: 1621242954,
        app_min_temp: 18,
        wind_spd: 1.75728,
        pop: 0,
        wind_cdir_full: 'southwest',
        slp: 1020.25,
        moon_phase_lunation: 0.21,
        valid_date: '2021-05-17',
        app_max_temp: 24.6,
        vis: 24.128,
        dewpt: 15.3,
        snow: 0,
        uv: 2.69285,
        weather: {
          icon: 'c02d',
          code: 802,
          description: 'Scattered clouds',
        },
        wind_dir: 227,
        max_dhi: null,
        clouds_hi: 0,
        precip: 0,
        low_temp: 17.9,
        max_temp: 25.3,
        moonset_ts: 1621299941,
        datetime: '2021-05-17',
        temp: 21.3,
        min_temp: 17.9,
        clouds_mid: 0,
        clouds_low: 25,
      },
      {
        moonrise_ts: 1621349505,
        wind_cdir: 'WSW',
        rh: 74,
        pres: 1011.5,
        high_temp: 27.3,
        sunset_ts: 1621368962,
        ozone: 265.125,
        moon_phase: 0.425836,
        wind_gust_spd: 2.70898,
        snow_depth: 0,
        clouds: 0,
        ts: 1621306860,
        sunrise_ts: 1621329381,
        app_min_temp: 17.9,
        wind_spd: 2.16438,
        pop: 0,
        wind_cdir_full: 'west-southwest',
        slp: 1016.25,
        moon_phase_lunation: 0.24,
        valid_date: '2021-05-18',
        app_max_temp: 26.1,
        vis: 24.128,
        dewpt: 16.7,
        snow: 0,
        uv: 2.66036,
        weather: {
          icon: 'c01d',
          code: 800,
          description: 'Clear Sky',
        },
        wind_dir: 242,
        max_dhi: null,
        clouds_hi: 0,
        precip: 0,
        low_temp: 18.5,
        max_temp: 27.3,
        moonset_ts: 1621389773,
        datetime: '2021-05-18',
        temp: 21.9,
        min_temp: 17.9,
        clouds_mid: 0,
        clouds_low: 0,
      },
      {
        moonrise_ts: 1621438453,
        wind_cdir: 'SSW',
        rh: 72,
        pres: 1010.25,
        high_temp: 28.6,
        sunset_ts: 1621455342,
        ozone: 265.25,
        moon_phase: 0.535729,
        wind_gust_spd: 1.91699,
        snow_depth: 0,
        clouds: 0,
        ts: 1621393260,
        sunrise_ts: 1621415808,
        app_min_temp: 18.8,
        wind_spd: 1.53503,
        pop: 0,
        wind_cdir_full: 'south-southwest',
        slp: 1015,
        moon_phase_lunation: 0.28,
        valid_date: '2021-05-19',
        app_max_temp: 28.8,
        vis: 24.128,
        dewpt: 17.5,
        snow: 0,
        uv: 2.67188,
        weather: {
          icon: 'c01d',
          code: 800,
          description: 'Clear Sky',
        },
        wind_dir: 212,
        max_dhi: null,
        clouds_hi: 0,
        precip: 0,
        low_temp: 23.4,
        max_temp: 28.6,
        moonset_ts: 1621393247,
        datetime: '2021-05-19',
        temp: 23.2,
        min_temp: 18.5,
        clouds_mid: 0,
        clouds_low: 0,
      },
    ],
    city_name: 'RIO',
    lon: '-43.2075',
    timezone: 'America/Sao_Paulo',
    lat: '-22.90278',
    country_code: 'BR',
    state_code: '21',
  }
  return forecastData
}

const fetchCurrentWeatherData = async (
  latInput,
  lonInput,
  cityInput,
  stateInput,
  countryInput,
  postcodeInput,
  setCurrentWeatherData
) => {
  const requestCurrentData = `https://api.weatherbit.io/v2.0/current?lat=${latInput}&lon=${lonInput}&city=${cityInput}&postal_code=${postcodeInput}&state=${stateInput}&country=${countryInput}&key=${APIKey}&include=minutely`

  const currentWeatherData = await fetch(requestCurrentData).then((response) =>
    response.json()
  )
  console.log('Running fetchCurrentWeatherData')
  setCurrentWeatherData(currentWeatherData)
}

export {
  fetchDummyCurrentWeatherData,
  fetchDummyForecastWeatherData,
  fetchCurrentWeatherData,
  weatherIconLink,
}
